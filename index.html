<script>
    // Informa√ß√µes dos produtos
    const products = {
        product1: {
            code: "T√äN-001",
            name: "T√™nis Esportivo",
            price: 199.90,
            sizes: ["36", "37", "38", "39", "40", "41", "42", "43", "44"]
        },
        product2: {
            code: "SAP-002",
            name: "Sapato Social",
            price: 249.90,
            sizes: ["37", "38", "39", "40", "41", "42", "43"]
        },
        product3: {
            code: "SAN-003",
            name: "Sand√°lia Conforto",
            price: 129.90,
            sizes: ["34", "35", "36", "37", "38", "39"]
        },
        product4: {
            code: "CHI-004",
            name: "Chinelo Premium",
            price: 79.90,
            sizes: ["35-36", "37-38", "39-40", "41-42", "43-44"]
        }
    };

    // Elementos do DOM
    const orderSummary = document.getElementById('orderSummary');
    const totalAmount = document.getElementById('totalAmount');
    const whatsappBtn = document.getElementById('whatsappBtn');

    // Atualizar resumo do pedido
    function updateOrderSummary() {
        let summary = '';
        let total = 0;
        let hasItems = false;
        
        for (let i = 1; i <= 4; i++) {
            const quantityInput = document.getElementById(`quantity${i}`);
            const sizeSelect = document.getElementById(`size${i}`);
            
            const quantity = parseInt(quantityInput.value);
            const size = sizeSelect.value;
            
            if (quantity > 0 && size) {
                hasItems = true;
                const product = products[`product${i}`];
                const subtotal = quantity * product.price;
                
                summary += `
                    <div class="order-item">
                        <h4>${product.code} - ${product.name}</h4>
                        <p>Tamanho: ${size} | Quantidade: ${quantity}</p>
                        <p>R$ ${product.price.toFixed(2)} x ${quantity} = <strong>R$ ${subtotal.toFixed(2)}</strong></p>
                    </div>
                    <hr>
                `;
                total += subtotal;
            }
        }
        
        orderSummary.innerHTML = hasItems ? summary : '<p>Nenhum produto selecionado</p>';
        totalAmount.textContent = `Total: R$ ${total.toFixed(2)}`;
        
        // Atualizar link do WhatsApp apenas se houver itens
        if (hasItems) {
            updateWhatsAppLink(total);
        } else {
            whatsappBtn.removeAttribute('href');
        }
    }

    // Atualizar link do WhatsApp
    function updateWhatsAppLink(total) {
        let message = "üõí *PEDIDO DE CAL√áADOS* üõí\n\n";
        message += "Cliente: [NOME DO CLIENTE]\n\n";
        message += "--------------------------------\n";
        message += "üìã *ITENS SELECIONADOS:*\n\n";
        
        for (let i = 1; i <= 4; i++) {
            const quantity = parseInt(document.getElementById(`quantity${i}`).value);
            const size = document.getElementById(`size${i}`).value;
            
            if (quantity > 0 && size) {
                const product = products[`product${i}`];
                message += `‚úîÔ∏è *${product.name}*\n`;
                message += `   üîπ C√≥digo: ${product.code}\n`;
                message += `   üîπ Tamanho: ${size}\n`;
                message += `   üîπ Quantidade: ${quantity}\n`;
                message += `   üîπ Valor: R$ ${(product.price * quantity).toFixed(2)}\n\n`;
            }
        }
        
        message += "--------------------------------\n";
        message += `üí∞ *VALOR TOTAL: R$ ${total.toFixed(2)}*\n\n`;
        message += "üìù *OBSERVA√á√ïES:* [DEIXE SUAS OBSERVA√á√ïES AQUI]\n\n";
        message += "Por favor, confirme este pedido!";

        const encodedMessage = encodeURIComponent(message);
        whatsappBtn.href = `https://wa.me/message/OX2BKJR5BY5WE1?text=${encodedMessage}`;
    }

    // Adicionar event listeners
    for (let i = 1; i <= 4; i++) {
        document.getElementById(`quantity${i}`).addEventListener('input', updateOrderSummary);
        document.getElementById(`size${i}`).addEventListener('change', updateOrderSummary);
    }

    // Inicializar
    updateOrderSummary();
</script>